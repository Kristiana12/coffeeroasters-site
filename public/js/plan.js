const subscribe=document.querySelector(".subscribe"),cards=document.querySelectorAll(".subscribe--card__option"),categories=document.querySelectorAll(".subscribe__categories p"),createPlanBtn=document.querySelector(".plan__btn-primary"),modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay");function removeClass(e,t){HTMLCollection.prototype.isPrototypeOf(e)&&(e=[...e]),e.forEach((e=>e.classList.remove(t)))}function collapseOption(e){const t=e.scrollHeight,s=e.style.transition;e.style.transition="",requestAnimationFrame((function(){e.style.height=t+"px",e.style.transition=s,requestAnimationFrame((function(){e.style.height="0px"}))})),e.setAttribute("data-collapsed","true")}function expandOption(e){const t=e.scrollHeight;e.style.height=t+"px",e.addEventListener("transitioned",(function(){e.removeEventListener("transitioned",arguments.callee),e.style.height=null})),e.setAttribute("data-collapsed","false")}const checkAccordeonStatus=e=>{"true"===e.getAttribute("data-collapsed")?(expandOption(e),e.setAttribute("data-collapsed","false")):collapseOption(e)};function toggleOptionHeight(e){const t=e.target.parentElement;if(t.classList.contains("subscribe--card__button")){t.classList.toggle("close");const e=t.nextElementSibling;"true"===(s=e).getAttribute("data-collapsed")?(expandOption(s),s.setAttribute("data-collapsed","false")):collapseOption(s)}var s}function displaySummary(e,t){const s=document.querySelectorAll(".order--text span.empty");if(s[e.dataset.index].style.color="#0e8784",s[e.dataset.index].innerHTML=t.querySelector("h3").innerHTML,t.dataset.capsule||t.dataset.filter){const e=(t.dataset.capsule?"<span class='color-light'> using </span>":"<span class='color-light'> as </span>")+t.querySelector("h3").innerHTML;s[0].innerHTML=e}}function changeCardStatus(e){const t=e.target.closest(".subscribe--card__option");if(t&&t.classList.contains("subscribe--card__option")){const n=t.parentElement;n&&(removeClass(n.children,"active"),t.classList.add("active"),displaySummary(n,t),n.classList.add("clicked"),n.classList.contains("clicked")&&(n.classList.remove("clicked"),n.classList.add("clicked")));const a=[...document.getElementById("quantity").querySelectorAll(".subscribe--card__option")].filter((e=>e.classList.contains("active"))),i=[...document.getElementById("deliveries").querySelectorAll(".subscribe--card__option")].some((e=>e.classList.contains("active"))),o={shipmentPerWeek:function(){return 4*this.perWeek},shipmentPerTwoWeek:function(){return 2*this.perTwoWeeks},shipmentPerMonth:function(){return 1*this.perMonth}};function s(e,t){250==t.dataset.quantity&&e?(o.perWeek=7.2,o.perTwoWeeks=9.6,o.perMonth=12):500==t.dataset.quantity&&e?(o.perWeek=13,o.perTwoWeeks=17.5,o.perMonth=22):1e3==t.dataset.quantity&&e&&(o.perWeek=22,o.perTwoWeeks=32,o.perMonth=42)}a&&i&&function(){let e;"week"===t.dataset.time&&i?(s(a,...a),e=o.shipmentPerWeek()):"two-weeks"===t.dataset.time&&i?(s(a,...a),e=o.shipmentPerTwoWeek()):"month"===t.dataset.time&&i&&(s(a,...a),e=o.shipmentPerMonth())}()}}function disableGrindOption(){const e=document.getElementById("grind-options"),t=document.querySelector('.subscribe--card__option[data-capsule="true"]'),s=document.querySelector("span.grind"),n=e.querySelector(".subscribe--card__button");t.classList.contains("active")?(collapseOption(e.querySelector(".subscribe--card__options")),n.style.filter="grayscale(100%)",n.setAttribute("disabled","disabled"),s&&(s.innerHTML='<span class="empty"></span>')):t.classList.contains("active")||(n.removeAttribute("disabled"),n.style.filter=null)}const openModal=()=>{modal.classList.remove("hide"),overlay.classList.remove("hide"),modal.classList.add("show"),overlay.classList.add("show")},closeModal=()=>{modal.classList.remove("show"),overlay.classList.remove("show"),modal.classList.add("hide"),overlay.classList.add("hide")};subscribe.addEventListener("click",toggleOptionHeight.bind(subscribe)),subscribe.addEventListener("click",changeCardStatus.bind(subscribe)),subscribe.addEventListener("click",disableGrindOption),createPlanBtn.addEventListener("click",openModal),overlay.addEventListener("click",closeModal),document.addEventListener("keydown",(e=>{"Escape"===e.key&&closeModal()}));
//# sourceMappingURL=plan.js.map